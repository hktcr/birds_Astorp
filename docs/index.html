<!DOCTYPE html>
<html lang="sv">

<head>
	<meta name="generator" content="Hugo 0.154.5">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="En f√•gel√•rsbok f√∂r √Östorps kommun ‚Äî observationer, bilder och krysslista">
    <meta name="author" content="H√•kan Karlsson">
    <title>F√•gel√•ret i √Östorp</title>

    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    
    <link rel="stylesheet" href="/birds_Astorp/css/style.css">

    
    
    <link rel="alternate" type="application/rss+xml" href="https://hktcr.github.io/birds_Astorp/index.xml" title="F√•gel√•ret i √Östorp">
</head>

<body>
    <a href="#main-content" class="skip-link">Hoppa till inneh√•ll</a>

    <header class="site-header">
    <div class="header-container">
        <a href="https://hktcr.github.io/birds_Astorp/" class="site-logo">
            <span class="site-title">F√•gel√•ret i √Östorp</span>
        </a>


        <nav class="main-nav" aria-label="Huvudnavigation">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a href="/birds_Astorp/" class="nav-link">
                        Hem
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="/birds_Astorp/posts/" class="nav-link">
                        Notiser
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="/birds_Astorp/arslista/" class="nav-link">
                        √Örslista
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="/birds_Astorp/karta/" class="nav-link">
                        Karta
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="/birds_Astorp/om/" class="nav-link">
                        Om
                    </a>
                </li>
                
            </ul>
        </nav>

        <button class="mobile-menu-toggle" aria-label="√ñppna meny" aria-expanded="false" id="mobile-menu-btn">
            <span class="hamburger"></span>
        </button>
    </div>
</header>

<script>
    
    document.addEventListener('DOMContentLoaded', () => {
        const menuToggle = document.getElementById('mobile-menu-btn');
        const mainNav = document.querySelector('.main-nav');

        if (menuToggle && mainNav) {
            menuToggle.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();

                
                mainNav.classList.toggle('open');

                
                const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
                menuToggle.setAttribute('aria-expanded', !isExpanded);
            });

            
            document.addEventListener('click', (e) => {
                if (mainNav.classList.contains('open') &&
                    !mainNav.contains(e.target) &&
                    !menuToggle.contains(e.target)) {
                    mainNav.classList.remove('open');
                    menuToggle.setAttribute('aria-expanded', 'false');
                }
            });
        }
    });
</script>

    <main id="main-content" class="main">
        

<section class="home-hero">
    <div class="home-container">
        
        <div class="hero-logo">
            <img src="/birds_Astorp/images/logo-fagelaret-2026.png" alt="Ett √•r med f√•glar ‚Äî √Östorp 2026">
        </div>

        
        <div class="hero-progress">
            <div class="progress-header">
                <span class="progress-label">√Örslista</span>
                <span class="progress-count"><span id="species-count">‚Äî</span> av 150 arter</span>
            </div>
            <div class="thermometer">
                <div class="thermometer-scale">
                    <span class="scale-mark" style="left: 0%">0</span>
                    <span class="scale-mark" style="left: 33%">50</span>
                    <span class="scale-mark" style="left: 66%">100</span>
                    <span class="scale-mark" style="left: 100%">150</span>
                </div>
                <div class="thermometer-bar">
                    <div class="thermometer-fill" id="progress-fill"></div>
                </div>
            </div>
            <div class="latest-species" id="latest-species"></div>
        </div>

        
        
        
        <div class="latest-post-preview">
            <h3 class="latest-post-label">Senaste notis</h3>
            <a href="/birds_Astorp/posts/2026/01/jakten-p%C3%A5-str%C3%B6mstare/" class="latest-post-card">
                <div class="latest-post-content">
                    <span class="latest-post-date">30 Jan</span>
                    <h4 class="latest-post-title">Jakten p√• str√∂mstare</h4>
                    <p class="latest-post-summary"><p>Vinterdagar som dessa g√•r det ibland l√•ngt mellan f√•glarna. Inte f√∂r att de inte finns d√§r, men sn√∂ ‚Ä¶</p></p>
                </div>
                
                <div class="latest-post-arrow">‚Üí</div>
            </a>
        </div>
        

        
        <div class="observation-trail">
            <h2 class="trail-title">Observationssp√•r</h2>
            <div class="trail-timeline" id="trail-timeline">
                
            </div>
        </div>

        
        <nav class="hero-nav">
            <a href="/birds_Astorp/arslista/" class="nav-card">
                <span class="nav-label">Artlista</span>
                <span class="nav-desc">Alla observerade arter</span>
            </a>
            <a href="/birds_Astorp/karta/" class="nav-card">
                <span class="nav-label">Karta</span>
                <span class="nav-desc">Var arterna hittats</span>
            </a>
            <a href="/birds_Astorp/posts/" class="nav-card">
                <span class="nav-label">Notiser</span>
                <span class="nav-desc">Ber√§ttelser fr√•n f√§lt</span>
            </a>
        </nav>
    </div>
</section>

    </main>

    

    
<script>
    const YEAR_GOAL = 150;

    
    const postsByDate = {};
    { { $allPosts:= where.Site.RegularPages "Section" "posts" } }
    { { range $allPosts } }
    postsByDate["2026-01-30"] = "\/birds_Astorp\/";
    { { end } }

    fetch('\/birds_Astorp\/data\/checklist-2026.json')
        .then(r => r.json())
        .then(data => {
            const uniqueSpecies = new Set(data.observations.map(o => o.species));
            const speciesCount = uniqueSpecies.size;

            const countEl = document.getElementById('species-count');
            if (countEl) countEl.textContent = speciesCount;

            const percentage = (speciesCount / YEAR_GOAL) * 100;
            const fill = document.getElementById('progress-fill');
            if (fill) {
                fill.style.width = Math.min(percentage, 100) + '%';
                
                const hue = 45 + (percentage / 100) * 60;
                const saturation = 90;
                const lightness = 55;
                fill.style.backgroundColor = `hsl(${hue}, ${saturation}%, ${lightness}%)`;
            }

            
            if (data.observations.length > 0) {
                const latest = data.observations[data.observations.length - 1];
                const latestEl = document.getElementById('latest-species');
                if (latestEl) {
                    latestEl.innerHTML = `<span class="latest-label">Senast kryssad:</span> <strong>${latest.species}</strong> <span class="latest-meta">(${latest.location}, ${new Date(latest.date).toLocaleDateString('sv-SE', { day: 'numeric', month: 'short' })})</span>`;
                }
            }

            
            const byDate = {};
            data.observations.forEach(obs => {
                if (!byDate[obs.date]) {
                    byDate[obs.date] = { species: [], locations: new Set() };
                }
                byDate[obs.date].species.push(obs.species);
                byDate[obs.date].locations.add(obs.location);
            });

            const dates = Object.keys(byDate).sort((a, b) => new Date(b) - new Date(a));
            const trailEl = document.getElementById('trail-timeline');

            if (trailEl) {
                trailEl.innerHTML = dates.map((date, i) => {
                    const info = byDate[date];
                    const dateObj = new Date(date);
                    const day = dateObj.getDate();
                    const month = dateObj.toLocaleDateString('sv-SE', { month: 'short' });
                    const locations = [...info.locations].join(', ');
                    const isLast = i === dates.length - 1;

                    
                    const postLink = postsByDate[date];
                    const dateHtml = postLink
                        ? `<a href="${postLink}" class="trail-date has-post" title="L√§s notis">
                             <span class="trail-day">${day}</span> 
                             <span class="trail-month">${month}</span>
                             <span class="trail-icon">üìù</span>
                           </a>`
                        : `<div class="trail-date">
                             <span class="trail-day">${day}</span> 
                             <span class="trail-month">${month}</span>
                           </div>`;

                    return `
                        <div class="trail-item ${i === 0 ? 'trail-item-latest' : ''}">
                            <div class="trail-line ${isLast ? 'trail-line-end' : ''}"></div>
                            <div class="trail-dot"></div>
                            <div class="trail-content">
                                ${dateHtml}
                                <div class="trail-details">
                                    <div class="trail-species">${info.species.join(', ')}</div>
                                    <div class="trail-location">${locations}</div>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
            }
        })
        .catch(console.error);
</script>

</body>

</html>