<!DOCTYPE html>
<html lang="sv">

<head>
	<meta name="generator" content="Hugo 0.154.5">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="En fågelårsbok för Åstorps kommun — observationer, bilder och krysslista">
    <meta name="author" content="Håkan Karlsson">
    <title>Fågelåret i Åstorp</title>

    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    
    <link rel="stylesheet" href="/birds_Astorp/css/style.css">

    
    
    <link rel="alternate" type="application/rss+xml" href="https://hktcr.github.io/birds_Astorp/index.xml" title="Fågelåret i Åstorp">
</head>

<body>
    <a href="#main-content" class="skip-link">Hoppa till innehåll</a>

    <header class="site-header">
    <div class="header-container">
        <a href="https://hktcr.github.io/birds_Astorp/" class="site-logo">
            <span class="site-title">Fågelåret i Åstorp</span>
        </a>


        <nav class="main-nav" aria-label="Huvudnavigation">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a href="/birds_Astorp/" class="nav-link">
                        Hem
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="/birds_Astorp/posts/" class="nav-link">
                        Notiser
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="/birds_Astorp/arslista/" class="nav-link">
                        Årslista
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="/birds_Astorp/karta/" class="nav-link">
                        Karta
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="/birds_Astorp/om/" class="nav-link">
                        Om
                    </a>
                </li>
                
            </ul>
        </nav>

        <button class="mobile-menu-toggle" aria-label="Öppna meny" aria-expanded="false" id="mobile-menu-btn">
            <span class="hamburger"></span>
        </button>
    </div>
</header>

<script>
    
    document.addEventListener('DOMContentLoaded', () => {
        const menuToggle = document.getElementById('mobile-menu-btn');
        const mainNav = document.querySelector('.main-nav');

        if (menuToggle && mainNav) {
            menuToggle.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();

                
                mainNav.classList.toggle('open');

                
                const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
                menuToggle.setAttribute('aria-expanded', !isExpanded);
            });

            
            document.addEventListener('click', (e) => {
                if (mainNav.classList.contains('open') &&
                    !mainNav.contains(e.target) &&
                    !menuToggle.contains(e.target)) {
                    mainNav.classList.remove('open');
                    menuToggle.setAttribute('aria-expanded', 'false');
                }
            });
        }
    });
</script>

    <main id="main-content" class="main">
        

<section class="home-hero">
    <div class="home-container">
        
        <div class="hero-logo">
            <img src="/birds_Astorp/images/logo-fagelaret-2026.png" alt="Ett år med fåglar — Åstorp 2026">
        </div>

        
        <div class="hero-progress">
            <div class="progress-header">
                <span class="progress-label">Årslista</span>
                <span class="progress-count"><span id="species-count">—</span> av 150 arter</span>
            </div>
            <div class="thermometer">
                <div class="thermometer-scale">
                    <span class="scale-mark" style="left: 0%">0</span>
                    <span class="scale-mark" style="left: 33%">50</span>
                    <span class="scale-mark" style="left: 66%">100</span>
                    <span class="scale-mark" style="left: 100%">150</span>
                </div>
                <div class="thermometer-bar">
                    <div class="thermometer-fill" id="progress-fill"></div>
                </div>
            </div>
            <div class="latest-species" id="latest-species"></div>
        </div>

        
        
        
        <a href="/birds_Astorp/posts/2026/01/jakten-p%C3%A5-str%C3%B6mstare/" class="latest-post-box">
            <span class="latest-post-label">Senaste notis</span>
            <span class="latest-post-title">Jakten på strömstare</span>
            <span class="latest-post-date">30 jan</span>
        </a>
        

        
        <div class="observation-trail">
            <h2 class="trail-title">Observationsspår</h2>
            <div class="trail-timeline" id="trail-timeline">
                
            </div>
        </div>

    </div>
</section>

    </main>

    

    
<script>
    
    var YEAR_GOAL = 150;

    
    var postsByDate = {};
    
    postsByDate["2026-01-30"] = "\/birds_Astorp\/posts\/2026\/01\/jakten-p%C3%A5-str%C3%B6mstare\/";
    
    postsByDate["2026-01-25"] = "\/birds_Astorp\/posts\/2026\/01\/vita-svanar-kall-vind\/";
    
    postsByDate["2026-01-22"] = "\/birds_Astorp\/posts\/2026\/01\/havs%C3%B6rn-startar-f%C3%A5gel%C3%A5ret\/";
    

    
    var data = {"municipality":"Åstorp","observations":[{"date":"2026-01-22","lat":56.12868,"latin":"Haliaeetus albicilla","lng":13.08559,"location":"Sönnarslöv","species":"Havsörn"},{"date":"2026-01-22","lat":56.13675,"latin":"Pica pica","lng":13.0431,"location":"Kvidinge","species":"Skata"},{"date":"2026-01-22","lat":56.13675,"latin":"Turdus merula","lng":13.0431,"location":"Kvidinge","species":"Koltrast"},{"date":"2026-01-22","lat":56.13675,"latin":"Coloeus monedula","lng":13.0431,"location":"Kvidinge","species":"Kaja"},{"date":"2026-01-22","lat":56.13675,"latin":"Corvus cornix","lng":13.0431,"location":"Kvidinge","species":"Kråka"},{"date":"2026-01-23","lat":56.13675,"latin":"Troglodytes troglodytes","lng":13.0431,"location":"Kvidinge","species":"Gärdsmyg"},{"date":"2026-01-23","lat":56.13675,"latin":"Larus argentatus","lng":13.0431,"location":"Kvidinge","species":"Gråtrut"},{"date":"2026-01-23","lat":56.13015,"latin":"Corvus frugilegus","lng":13.07099,"location":"Sönnarslöv","species":"Råka"},{"date":"2026-01-23","lat":56.13312,"latin":"Milvus milvus","lng":13.09428,"location":"Bron vid Rönneå","species":"Röd glada"},{"date":"2026-01-23","lat":56.13312,"latin":"Buteo buteo","lng":13.09428,"location":"Bron vid Rönneå","species":"Ormvråk"},{"date":"2026-01-23","lat":56.17858,"latin":"Anas platyrhynchos","lng":13.02111,"location":"Gamla Tranarpsbron","species":"Gräsand"},{"date":"2026-01-23","lat":56.13675,"latin":"Erithacus rubecula","lng":13.0431,"location":"Kvidinge","species":"Rödhake"},{"date":"2026-01-24","lat":56.13675,"latin":"Pyrrhula pyrrhula","lng":13.0431,"location":"Kvidinge","species":"Domherre"},{"date":"2026-01-24","lat":56.13675,"latin":"Parus major","lng":13.0431,"location":"Kvidinge","species":"Talgoxe"},{"date":"2026-01-25","lat":56.15343,"latin":"Cygnus cygnus","lng":13.06878,"location":"Kungsgårdsmaderna","species":"Sångsvan"},{"date":"2026-01-25","lat":56.15343,"latin":"Branta canadensis","lng":13.06878,"location":"Kungsgårdsmaderna","species":"Kanadagås"},{"date":"2026-01-25","lat":56.1487,"latin":"Sitta europaea","lng":13.07359,"location":"Tomarps Ene","species":"Nötväcka"},{"date":"2026-01-25","lat":56.15343,"latin":"Phalacrocorax carbo","lng":13.06878,"location":"Kungsgårdsmaderna","species":"Storskarv"},{"date":"2026-01-25","lat":56.13312,"latin":"Bucephala clangula","lng":13.09428,"location":"Bron vid Rönneå","species":"Knipa"},{"date":"2026-01-25","lat":56.13675,"latin":"Cyanistes caeruleus","lng":13.0431,"location":"Kvidinge","species":"Blåmes"},{"date":"2026-01-25","lat":56.13675,"latin":"Accipiter nisus","lng":13.0431,"location":"Kvidinge","species":"Sparvhök"},{"date":"2026-01-26","lat":56.13477,"latin":"Columba livia","lng":13.01199,"location":"Rörspjäll","species":"Tamduva"},{"date":"2026-01-27","lat":56.13312,"latin":"Fringilla coelebs","lng":13.09428,"location":"Bron mot Klippan","species":"Bofink"},{"date":"2026-01-27","lat":56.13675,"latin":"Passer montanus","lng":13.0431,"location":"Kvidinge","species":"Pilfink"},{"date":"2026-01-27","lat":56.13675,"latin":"Passer domesticus","lng":13.0431,"location":"Kvidinge","species":"Gråsparv"},{"date":"2026-01-28","lat":56.18073,"latin":"Anser anser","lng":13.01804,"location":"Tranarpsbron","species":"Grågås"},{"date":"2026-01-28","lat":56.16593,"latin":"Falco tinnunculus","lng":13.01946,"location":"Killåkravägen","species":"Tornfalk"},{"date":"2026-01-30","lat":56.09711,"latin":"Dendrocopos major","lng":13.06836,"location":"Högalid","species":"Större hackspett"},{"date":"2026-01-30","lat":56.09711,"latin":"Garrulus glandarius","lng":13.06836,"location":"Högalid","species":"Nötskrika"},{"date":"2026-01-30","lat":56.09874,"latin":"Spinus spinus","lng":13.07474,"location":"Körslättsravinen","species":"Grönsiska"},{"date":"2026-01-30","lat":56.11749,"latin":"Corvus corax","lng":13.06674,"location":"Grustagen, Maglaby","species":"Korp"},{"date":"2026-01-31","lat":56.14148,"latin":"Columba palumbus","lng":13.04893,"location":"Prästamarken","species":"Ringduva"}],"year":2026};

    function initDashboard() {
        if (!data || !data.observations) {
            console.error("Ingen data laddad");
            return;
        }

        var uniqueSpecies = {};
        data.observations.forEach(function(o) { uniqueSpecies[o.species] = true; });
        var speciesCount = Object.keys(uniqueSpecies).length;

        var countEl = document.getElementById('species-count');
        if (countEl) countEl.textContent = speciesCount;

        var percentage = (speciesCount / YEAR_GOAL) * 100;
        var fill = document.getElementById('progress-fill');
        if (fill) {
            fill.style.width = Math.min(percentage, 100) + '%';
            var hue = 45;
            if (percentage > 20) {
                hue = 45 + ((percentage - 20) / 80) * 75;
            }
            fill.style.backgroundColor = 'hsl(' + hue + ', 90%, 50%)';
        }

        if (data.observations.length > 0) {
            var latest = data.observations[data.observations.length - 1];
            var latestEl = document.getElementById('latest-species');
            if (latestEl) {
                latestEl.innerHTML = '<span class="latest-label">Senast kryssad:</span> <strong>' + latest.species + '</strong> <span class="latest-meta">(' + latest.location + ', ' + new Date(latest.date).toLocaleDateString('sv-SE', { day: 'numeric', month: 'short' }) + ')</span>';
            }
        }

        var byDate = {};
        data.observations.forEach(function(obs) {
            if (!byDate[obs.date]) {
                byDate[obs.date] = { species: [], locations: [] };
            }
            byDate[obs.date].species.push(obs.species);
            if (byDate[obs.date].locations.indexOf(obs.location) === -1) {
                byDate[obs.date].locations.push(obs.location);
            }
        });

        var dates = Object.keys(byDate).sort(function(a, b) { return new Date(b) - new Date(a); });
        var trailEl = document.getElementById('trail-timeline');

        if (trailEl) {
            var html = '';
            dates.forEach(function(date, i) {
                var info = byDate[date];
                var dateObj = new Date(date);
                var day = dateObj.getDate();
                var month = dateObj.toLocaleDateString('sv-SE', { month: 'short' });
                var locations = info.locations.join(', ');
                var isLast = i === dates.length - 1;

                var postLink = postsByDate[date];
                var hasPost = postLink ? ' has-post' : '';
                var postIcon = postLink ? ' <span class="post-icon">*</span>' : '';

                html += '<div class="trail-item' + (i === 0 ? ' trail-item-latest' : '') + '">';
                html += '<div class="trail-line' + (isLast ? ' trail-line-end' : '') + '"></div>';
                html += '<div class="trail-dot"></div>';
                html += '<div class="trail-content">';
                
                if (postLink) {
                    html += '<a href="' + postLink + '" class="trail-date has-post">';
                } else {
                    html += '<span class="trail-date">';
                }
                html += '<span class="trail-day">' + day + '</span><span class="trail-month">' + month + '</span>' + postIcon;
                html += postLink ? '</a>' : '</span>';
                
                html += '<div class="trail-details"><span class="trail-species">' + info.species.join(', ') + '</span>';
                html += '<span class="trail-location">' + locations + '</span></div>';
                html += '</div></div>';
            });
            trailEl.innerHTML = html;
        }
    }

    initDashboard();
</script>

</body>

</html>